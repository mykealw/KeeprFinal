import{u as y,l as f,G as K,c as n,a as m,o as s,b as a,d as t,t as u,z as b,F as _,y as p,e as v,s as w}from"./vendor.45489d85.js";import{_ as x,v as h,b as B,l as g,P as d,A as c}from"./index.8e753b70.js";const N={setup(){const r=y(),l=f();return K(async()=>{try{await h.getVaultById(r.params.id),await B.getAllVaultsKeeps(r.params.id)}catch(i){g.log(i),d.toast("you do not have access to this, sending you home"),l.push({name:"Home"})}}),{vault:n(()=>c.activeVault),profile:n(()=>c.profile),account:n(()=>c.account),keeps:n(()=>c.keeps),activeKeep:n(()=>c.activeKeep),async deleteVault(i){try{await d.confirm()&&(await h.deleteVault(i),l.push({name:"Home"}),d.toast("deleted, going home"))}catch(e){g.log(e),d.toast(e.message,"error")}}}}},P={class:"VaultPage container-fluid"},S={class:"row d-flex mt-3 ms-5"},A={class:"col-md-3"},C=["title"],M={class:"col-md-6"},j=["title"],D={class:"col-md-3"},F=w(" Delete Vault "),H=t("i",{class:"mdi mdi-delete"},null,-1),I=[F,H],R={class:"col-md-12"},z=["title"],E={class:"row"};function G(r,l,i,e,L,T){const V=m("KeepV"),k=m("KeepModal");return s(),a(_,null,[t("div",P,[t("div",S,[t("div",A,[t("h1",{title:e.vault.name},u(e.vault.name),9,C)]),t("div",M,[t("h6",{title:e.vault.description},u(e.vault.description),9,j)]),t("div",D,[e.vault.creatorId==e.account.id?(s(),a("button",{key:0,type:"button",class:"btn btn-outline-secondary",onClick:l[0]||(l[0]=o=>e.deleteVault(e.vault.id)),title:"delete vault"},I)):b("",!0)]),t("div",R,[t("h6",{title:e.keeps.length},"Keeps: "+u(e.keeps.length),9,z)])]),t("div",E,[(s(!0),a(_,null,p(e.keeps,o=>(s(),a("div",{class:"col-md-3",key:o.id},[v(V,{keep:o},null,8,["keep"])]))),128))])]),(s(!0),a(_,null,p(e.keeps,o=>(s(),a("div",{key:o.id},[v(k,{keep:o},null,8,["keep"])]))),128))],64)}var O=x(N,[["render",G]]);export{O as default};
